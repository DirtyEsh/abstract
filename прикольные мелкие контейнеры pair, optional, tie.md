–û–∫. **–ú–µ–ª–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã / —É—Ç–∏–ª–∏—Ç—ã STL ‚Äî —É–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω–æ, –ø–æ –¥–µ–ª—É, –∫–∞–∫ `pair`.**

---

# –ú–µ–ª–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —É—Ç–∏–ª–∏—Ç—ã STL

## `std::pair`

### –ß—Ç–æ —ç—Ç–æ

–î–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ —Å–º—ã—Å–ª–∞ –∏–º—ë–Ω.

```cpp
#include <utility>

std::pair<int, bool> p{10, true};
```

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

- `std::map` / `std::set` (`iterator->first / second`)
    
- `insert`, `emplace`
    
- –≤–æ–∑–≤—Ä–∞—Ç –¥–≤—É—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    
- `minmax`, `equal_range`
    

### –ö–∞–∫ –¥–æ—Å—Ç–∞–≤–∞—Ç—å

```cpp
p.first;
p.second;

auto [a, b] = p; // –ª—É—á—à–µ
```

---

## `std::tuple`

### –ß—Ç–æ —ç—Ç–æ

–û–±–æ–±—â–µ–Ω–∏–µ `pair`: **N –∑–Ω–∞—á–µ–Ω–∏–π –ª—é–±—ã—Ö —Ç–∏–ø–æ–≤**.

```cpp
#include <tuple>

std::tuple<int, double, std::string> t{1, 3.14, "hi"};
```

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

- –≤–µ—Ä–Ω—É—Ç—å –±–æ–ª—å—à–µ –¥–≤—É—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    
- –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API
    
- –∞–ª–≥–æ—Ä–∏—Ç–º—ã (`minmax`, ranges)
    

### –ö–∞–∫ –¥–æ—Å—Ç–∞–≤–∞—Ç—å

```cpp
auto [a, b, c] = t;        // –ª—É—á—à–µ
std::get<0>(t);            // —Ä–µ–¥–∫–æ
```

‚ùå –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–º—ã—Å–ª–æ–≤–æ–µ –∏–º—è –ø–æ–ª–µ–π ‚Üí `struct`

---

## `std::tie`

### –ß—Ç–æ —ç—Ç–æ

**–ù–ï –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.**  
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:

- —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏
    
- —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    
- –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è
    

```cpp
#include <tuple>

int a, b;
std::tie(a, b) = std::make_pair(1, 2);
```

### –ß–∞—Å—Ç–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

```cpp
if (std::tie(x, y) < std::tie(x2, y2)) {
}
```

üìå –°–µ–π—á–∞—Å –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ **structured bindings**.

---

## `std::optional`

### –ß—Ç–æ —ç—Ç–æ

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: **–∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å—Ç—å –∏–ª–∏ –µ–≥–æ –Ω–µ—Ç**.

```cpp
#include <optional>

std::optional<int> v;
```

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

- –≤–º–µ—Å—Ç–æ `nullptr`
    
- –≤–º–µ—Å—Ç–æ ‚Äú–º–∞–≥–∏—á–µ—Å–∫–∏—Ö‚Äù –∑–Ω–∞—á–µ–Ω–∏–π
    
- —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –Ω–µ –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    


## 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ std::make_optional() (C++14 –∏ –Ω–æ–≤–µ–µ)

```cpp
#include <optional>
#include <string>

std::optional<int> o1;                      // –ø—É—Å—Ç–æ–π
std::optional<int> o2 = {};                  // –ø—É—Å—Ç–æ–π
std::optional<int> o3 {};                     // –ø—É—Å—Ç–æ–π
std::optional<int> o4 = std::nullopt;        // –ø—É—Å—Ç–æ–π
std::optional<int> o5(std::nullopt);         // –ø—É—Å—Ç–æ–π
auto o6 = std::optional<int>();               // –ø—É—Å—Ç–æ–π (–≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç)
```
```cpp
std::optional<int> o1 = 42;                  // –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
std::optional<int> o2 {42};                    // uniform initialization
std::optional<int> o3(42);                    // –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

std::string str = "hello";
std::optional<std::string> o4 = str;          // –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
std::optional<std::string> o5 = std::move(str); // –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
```


```
cpp

std::optional<double> divide(double a, double b) {
    if (b == 0) {
        return std::nullopt;
    }
    return std::make_optional(a / b);  // –Ø–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
}

```
### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å / –¥–æ—Å—Ç–∞–≤–∞—Ç—å

```cpp
if (v) {
    int x = *v;
}

v.value();        // –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
v.value_or(0);    // –±–µ–∑–æ–ø–∞—Å–Ω–æ
```

---

## `std::variant`

### –ß—Ç–æ —ç—Ç–æ

**–û–¥–∏–Ω –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤** (type-safe union).

```cpp
#include <variant>

std::variant<int, std::string> v;
```

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

- –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    
- —Å–æ—Å—Ç–æ—è–Ω–∏—è
    
- –ø–∞—Ä—Å–µ—Ä—ã, AST
    

### –ö–∞–∫ –¥–æ—Å—Ç–∞–≤–∞—Ç—å

```cpp
std::get<int>(v);            // –º–æ–∂–µ—Ç –±—Ä–æ—Å–∏—Ç—å
std::get_if<int>(&v);        // –±–µ–∑–æ–ø–∞—Å–Ω–æ
```

---

## `std::any`

### –ß—Ç–æ —ç—Ç–æ

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä **—á–µ–≥–æ —É–≥–æ–¥–Ω–æ** (runtime type).

```cpp
#include <any>

std::any a = 10;
```

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

- –ø–ª–∞–≥–∏–Ω—ã
    
- generic API
    
- —Ä–µ–¥–∫–∏–µ —Å–ª—É—á–∞–∏
    

### –ö–∞–∫ –¥–æ—Å—Ç–∞–≤–∞—Ç—å

```cpp
std::any_cast<int>(a); // –º–æ–∂–µ—Ç –±—Ä–æ—Å–∏—Ç—å
```

‚ùå –Ω–µ—Ç compile-time –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
‚ùå –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Ö—É–∂–µ `variant`

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

|–¢–∏–ø|–°–∫–æ–ª—å–∫–æ —Ö—Ä–∞–Ω–∏—Ç|–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å|–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|
|---|---|---|---|
|`pair`|2|compile-time|map, insert, minmax|
|`tuple`|N|compile-time|–≤–µ—Ä–Ω—É—Ç—å –º–Ω–æ–≥–æ|
|`tie`|0|n/a|—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ / —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ|
|`optional`|0 –∏–ª–∏ 1|compile-time|–º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å|
|`variant`|1 –∏–∑ N|compile-time|–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã|
|`any`|1|runtime|–∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π|

---

## –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω–∞—è –≤—ã–∂–∏–º–∫–∞

- **2 –∑–Ω–∞—á–µ–Ω–∏—è** ‚Üí `pair`
    
- **>2 –∑–Ω–∞—á–µ–Ω–∏–π** ‚Üí `tuple`
    
- **—Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å / —Å—Ä–∞–≤–Ω–∏—Ç—å** ‚Üí `tie` (–∏–ª–∏ structured bindings)
    
- **–º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è** ‚Üí `optional`
    
- **–æ–¥–Ω–æ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö** ‚Üí `variant`
    
- **–Ω–µ –∑–Ω–∞–µ—à—å —Ç–∏–ø** ‚Üí `any` (–æ—á–µ–Ω—å —Ä–µ–¥–∫–æ)
    

