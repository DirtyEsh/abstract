Ок, максимально коротко и прямо. **Только то, что ты спросил.**

---

## `[]` в лямбде — что туда писать и когда

```cpp
[]        // ничего не передаём
[x]       // передаём x по значению (копия)
[&x]      // передаём x по ссылке
[=]       // ВСЕ используемые переменные по значению
[&]       // ВСЕ используемые переменные по ссылке
[x = expr]// вычисляем expr и сохраняем как x
```

### Когда что использовать

- `[]`  
    когда лямбде ничего снаружи не нужно
    
- `[x]`  
    когда нужен **параметр**, но менять его не надо
    
- `[&x]`  
    когда **нужно менять внешний x**
    
- `[=]`  
    когда много параметров и **не хочешь писать каждый**  
    (безопаснее, чем `[&]`)
    
- `[&]`  
    когда код **локальный и короткоживущий**
    

---

## Почему иногда пишут просто `&` или `=`

```cpp
[=]  // всё по значению
[&]  // всё по ссылке
```

Это **сокращение**, чтобы не перечислять переменные вручную.

Использовать:

- `[=]` → почти всегда безопасно
    
- `[&]` → осторожно, легко словить UB
    

---

## Что в компараторах (КОРОТКО)

### В `[]`

- **ничего** → `[]`
    
- или **режим сортировки / параметр** → `[mode]`
    

```cpp
[](a, b) { return a < b; }
```

```cpp
[mode](a, b) {
    return mode ? a.x < b.x : a.y < b.y;
}
```

### Что **НЕ** передают в компаратор

- ссылки на меняющиеся данные
    
- счётчики
    
- побочные эффекты
    

---

## Микро-выжимка

- `[]` — что лямбда берёт снаружи
    
- `=` — всё по значению
    
- `&` — всё по ссылке
    
- в компараторе → чаще всего `[]`
    
- параметры компаратора → `(a, b)`
    
- если нужен режим → `[param]`
    

Вот это и всё.